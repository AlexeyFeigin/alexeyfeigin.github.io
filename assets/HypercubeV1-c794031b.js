import{d as I,r as j,w as q,o as E,b as D,g as d,h as a,F as g,k as H,l as _,p as C,v as L,q as O,s as T,x as F}from"./index-c6e1108c.js";import{_ as u,a as N}from"./_plugin-vue_export-helper-4d4f4928.js";import{M as x}from"./matrix-c48650d5.js";const c=i=>(T("data-v-8bc3941a"),i=i(),F(),i),P={style:{padding:"0 8px 8px"}},U=["onUpdate:modelValue"],R={key:0},W=c(()=>a("br",null,null,-1)),z=c(()=>a("br",null,null,-1)),G=c(()=>a("input",{type:"range",id:"shear-0",min:"0",max:"99",value:"0",step:"1",class:"slider"},null,-1)),J=c(()=>a("br",null,null,-1)),K=c(()=>a("input",{type:"range",id:"shear-1",min:"0",max:"100",value:"0",step:"1",class:"slider"},null,-1)),Q=c(()=>a("td",null,[a("canvas",{id:"canvas",width:"800",height:"600"})],-1)),M=200,X=I({__name:"HypercubeV1",setup(i){const p=j([[0,1],[0,2],[1,2],[0,3],[1,3],[0,4],[1,4],[0,5],[1,5]].map(e=>({plane:e,angle:0})));let h=null,l=null,f=null;const w=[400,300],v=Math.max(...u.flatten(p.value.map(({plane:e})=>e)))+1;let r=[[0],[1]];for(const e of[...Array(v-1).keys()]){const s=u.cloneDeep(u.uniqWith(r,u.isEqual)),o=u.cloneDeep(r);for(const t of r)t.push(0);for(const t of o)t.push(1),r.push(t);for(const t of s){const n=t,y=[...t];n.push(0),y.push(1),r.push(n,y)}}let m=new x(r);m.mul(M).sub(M/2),q(p.value,()=>b()),E(()=>{h=document.getElementById("canvas"),l=h.getContext("2d"),f=Object.fromEntries([...document.querySelectorAll("[id^=shear-]").values()].map(e=>[e.id.split("shear-")[1],e])),b();for(const e of Object.values(f))e.addEventListener("input",b)}),D(()=>{var e;document.title="6D Hypercube projection V1",(e=document.querySelector("meta[name=viewport]"))==null||e.setAttribute("content","width=1400")});function b(){let e=m;for(const{plane:[s,o],angle:t}of p.value)e=S(e,t*Math.PI/180,s,o);for(const[s,o]of Object.entries(f))k(e,+s,(100-+o.value)/100);V(e,w),l.clearRect(0,0,h.width,h.height),l.beginPath();for(let s=0;s<e.rows;s+=2)l.moveTo(e.get(s,0),e.get(s,1)),l.lineTo(e.get(s+1,0),e.get(s+1,1));l.stroke()}function S(e,s,o,t){const n=x.eye(v,v);return o%2===0?(n.set(o,o,Math.cos(s)),n.set(o,t,-Math.sin(s)),n.set(t,o,Math.sin(s)),n.set(t,t,Math.cos(s))):(n.set(o,o,Math.cos(s)),n.set(o,t,Math.sin(s)),n.set(t,o,-Math.sin(s)),n.set(t,t,Math.cos(s))),e.mmul(n)}function V(e,s){for(let o=0;o<e.rows;o++)for(let t=0;t<2;t++)e.set(o,t,e.get(o,t)+s[t])}function k(e,s,o){for(let t=0;t<e.rows;t++)e.set(t,s,e.get(t,s)*o)}return(e,s)=>(_(),d("table",P,[a("tr",null,[a("td",null,[(_(!0),d(g,null,H(p.value,(o,t)=>(_(),d(g,{key:String(o.plane)},[C(a("input",{type:"range",min:"0",max:"180","onUpdate:modelValue":n=>o.angle=n,step:"1",class:"slider"},null,8,U),[[L,o.angle]]),t===0?(_(),d("br",R)):O("",!0),W],64))),128)),z,G,J,K]),Q])]))}});const A=N(X,[["__scopeId","data-v-8bc3941a"]]);export{A as default};
